# Netflix Helm values.yaml
replicaCount: 2

image:
  repository: mujju752/netflix
  tag: "v1.0"  # Updated to new build
  pullPolicy: Always

imagePullSecrets:
  - name: dockerhub-secret

service:
  type: LoadBalancer  # Changed from ClusterIP to access externally
  port: 80
  targetPort: 3000

ingress:
  enabled: true
  className: nginx
  tls: false
  hosts:
    - host: netflix.your-domain.com
      paths:
        - path: /
          pathType: Prefix

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 5
  targetCPUUtilizationPercentage: 70

serviceMonitor:
  enabled: true
  interval: 30s

env:
  - name: NODE_ENV
    value: "production"
  - name: TMDB_API_KEY
    valueFrom:
      secretKeyRef:
        name: netflix-secrets
        key: TMDB_KEY

